---
parameters:
  - name: containerFilePath
    type: string
  - name: containerRegId
    type: string
  - name: imageNameTag
    type: string
  - name: azureSub
    type: string
    
 steps:
   - task: AzureCLI@2
     displayName: Build image
     inputs:
       azureSub: ${{ parameters.azureSub }}
       scriptType: bash
       scriptLocation: inlineScripts
       inlineScript: |
         az acr build --subscription "${{ parameters.azureSub }}"
         --registry "${{ parameters.containerRegId }}" \
         --file "${{ parameters.containerFilePath }}" \
         --image "${{ parameters.imageNameTag }}"
